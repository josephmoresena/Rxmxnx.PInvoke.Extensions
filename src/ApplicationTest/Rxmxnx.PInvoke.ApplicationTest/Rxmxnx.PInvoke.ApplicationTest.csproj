<Project Sdk="Microsoft.NET.Sdk">

    <Import Project="..\PackageReference.props"/>
    <Import Condition="'$(MSBuildRuntimeType)' != 'Mono'" Project="..\DotnetCoreApp.props"/>
    <Import Condition="'$(MSBuildRuntimeType)' == 'Mono'" Project="..\MonoApp.props"/>

    <PropertyGroup>
        <OutputType>Exe</OutputType>
        <LangVersion>9.0</LangVersion>
        <Nullable>enable</Nullable>
        <ImplicitUsings>disable</ImplicitUsings>
        <PublishTrimmed>true</PublishTrimmed>
        <TrimmerSingleWarn>false</TrimmerSingleWarn>
        <TrimMode>full</TrimMode>
        <CheckEolTargetFramework>false</CheckEolTargetFramework>
        <AssemblyName Condition="'$(DisableBufferAutoComposition)' == 'True'">$(AssemblyName).NoBufferComposition</AssemblyName>
        <AssemblyName Condition="'$(InvariantGlobalization)' == 'True'">$(AssemblyName).Invariant</AssemblyName>
        <Deterministic>True</Deterministic>
        <Optimize>true</Optimize>
    </PropertyGroup>

    <ItemGroup Condition="'$(TargetFramework)' != 'net45'">
        <AssemblyAttribute Include="System.Diagnostics.CodeAnalysis.ExcludeFromCodeCoverage"/>
    </ItemGroup>
    <ItemGroup Condition="$([MSBuild]::IsTargetFrameworkCompatible('$(TargetFramework)', 'net9.0'))">
        <ProjectReference Include="..\Rxmxnx.PInvoke.VNextTest\Rxmxnx.PInvoke.VNextTest.csproj"/>
    </ItemGroup>

    <ItemGroup>
        <None Remove="Mono.ILLink.Descriptors.xml"/>
    </ItemGroup>

    <Import Project="..\Artifact.targets"/>

</Project>
