<Project>
    <PropertyGroup>
        <IsPackage>$(DefineConstants.Contains('PACKAGE'))</IsPackage>
        <IsSourceGenerator>$(DefineConstants.Contains('SOURCE_GENERATOR'))</IsSourceGenerator>
    </PropertyGroup>

    <ItemGroup Condition="'$(TargetFramework)' == 'netstandard2.1'">
        <PackageReference Include="System.Memory" Version="4.6.3"/>
        <PackageReference Include="System.Buffers" Version="4.6.1"/>
    </ItemGroup>

    <!-- UNSUPPORTED -->
    <ItemGroup Condition="(!$(IsPackage) And '$(TargetFramework)' == 'netstandard2.1') or '$(TargetFramework)' == 'netcoreapp3.0'">
        <PackageReference Include="System.Runtime.CompilerServices.Unsafe" Version="4.7.1"/>
        <PackageReference Include="System.Text.Json" Version="4.7.2"/>
        <PackageReference Include="System.Collections.Immutable" Version="1.7.1"/>
    </ItemGroup>

    <!-- TRANSITION_SUPPORT -->
    <ItemGroup Condition="'$(TargetFramework)' == 'netcoreapp3.1' or '$(TargetFramework)' == 'net5.0'">
        <PackageReference Include="System.Runtime.CompilerServices.Unsafe" Version="6.0.0"/>
        <PackageReference Include="System.Text.Json" Version="6.0.11"/>
        <PackageReference Include="System.Collections.Immutable" Version="1.7.1"/>
    </ItemGroup>

    <!-- SUPPORTED -->
    <ItemGroup Condition="'$(TargetFramework)' == 'net6.0' or '$(TargetFramework)' == 'net7.0'">
        <PackageReference Include="System.Runtime.CompilerServices.Unsafe" Version="6.1.2"/>
        <PackageReference Include="System.Text.Json" Version="8.0.5"/>
        <PackageReference Include="System.Collections.Immutable" Version="8.0.0"/>
    </ItemGroup>

    <!-- LEGACY_SUPPORT -->
    <ItemGroup Condition="$(IsPackage) And '$(TargetFramework)' == 'netstandard2.1'">
        <PackageReference Include="System.Runtime.CompilerServices.Unsafe" Version="6.1.2"/>
        <PackageReference Include="System.Text.Json" Version="9.0.5"/>
        <PackageReference Include="System.Collections.Immutable" Version="9.0.5"/>
    </ItemGroup>

</Project>
